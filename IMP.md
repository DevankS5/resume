frontend improvement ideas (grounded in tasks.md)
Shift to Next.js App Router shell: Migrate this Vite shell into Next.js App Router to unlock streaming SSR for the chat page, nested layouts for each route, and server-side token fetches (required for /api/agoaratoken). This aligns the implementation with the PPT brief and simplifies secure env handling.
Composable data workspaces: Turn each major page into a tri-pane layout similar to the chat spec—e.g., Dashboard with KPI cards, recent uploads, and shortlist heatmaps; Candidates page with sticky filter rail + grid/list toggle; Candidate profile with timeline, skills cloud, and evidence drawer.
Stateful upload pipeline: Use React Query mutations for resumable uploads (/api/upload/init + signed PUT) and render queue items with optimism: show parsing timers, failure badges, and quick retry chips. Surface notifications via the existing Sonner toaster and tie into mock APIs.
Search + shortlist power tools: Add a SearchBar component with debounced natural-language input, saved prompt presets, and inline filter pills (experience, skills, location). On CandidateCard, animate the score badge, inline tag editing, comments sheet, and “compare” selections.
Context-rich chat experience: Implement streaming responses with aria-live, collapsible evidence cards, quick action buttons (shortlist, add note) and a history rail for saved queries. Mini voice waveform indicators and typing indicators can match the spec’s “unique” requirement.
Privacy/PII controls: On the Settings page, wire up toggles for PII redaction presets and retention policies. In the Candidate profile, add a PIIRedactModal with before/after preview and audit logging chips to reinforce trust.
Mock API + Storybook: Stand up /app/api/mock/* routes (or MSW) so every flow can run locally, and document reusable components (UploadDropzone, ChatWindow, CandidateCard) in Storybook to satisfy the “testable & documented” requirement.
Agora integration opportunities (from docs + samples)
Token-safe voice button: Agora’s voice quickstart stresses creating an AgoraRTCClient, calling createMicrophoneAudioTrack, and publishing after join. Wrap that flow in an AgoraVoiceButton that silently fetches tokens server-side (/api/agoaratoken?uid) and exposes live states (connecting, recording, muted).
Presence & reconnection UX: The Web SDK 4.x sample repo highlights improved event notifications (user-published, user-unpublished, reconnection events). Use those to show real-time agent availability, network quality badges, and graceful recovery banners inside chat.
Track-level controls: Because SDK 4.x splits audio/video into tracks, you can offer per-track mute, gain sliders, and waveform visualizers in the chat drawer—delivering a unique “voice receipts” timeline for each conversation.
Voice snippets to transcript API: Stream microphone audio via Agora, pipe partial transcripts to /api/transcripts, and surface them as searchable notes inside the chat history or candidate profile timeline.
Hybrid voice + RTM: Pair RTC voice for synchronous conversations with Agora RTM (or AgoraRTMClient) for presence, read receipts, and offline delivery. That lets recruiters start with text, escalate to voice, and fall back seamlessly if someone drops.